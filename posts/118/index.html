<!DOCTYPE html><html class="transition bg-[var(--page-bg)] md:text-[16px] text-[14px]" data-astro-cid-sckkx6r4 data-overlayscrollbars-initialize lang=zh-CN style=--bannerOffset:15vh;--banner-height-home:65vh;--banner-height:35vh;--configHue:250;--page-width:75rem><head><title>Codeforces 671D Roads in Yusland - NekoMio&#39;s Blog</title><meta charset=UTF-8><meta content="Codeforces 671D Roads in Yusland - NekoMio's Blog" name=description><meta content=NekoMio name=author><meta content="NekoMio's Blog" property=og:site_name><meta content=https://www.nekomio.com/posts/118/ property=og:url><meta content="Codeforces 671D Roads in Yusland - NekoMio's Blog" property=og:title><meta content="Codeforces 671D Roads in Yusland - NekoMio's Blog" property=og:description><meta content=article property=og:type><meta content=summary_large_image name=twitter:card><meta content=https://www.nekomio.com/posts/118/ property=twitter:url><meta content="Codeforces 671D Roads in Yusland - NekoMio's Blog" name=twitter:title><meta content="Codeforces 671D Roads in Yusland - NekoMio's Blog" name=twitter:description><meta content="width=device-width" name=viewport><meta content="Astro v4.16.7" name=generator><link href=/favicon/favicon-light-32.png rel=icon media="(prefers-color-scheme: light)" sizes=32x32><link href=/favicon/favicon-light-128.png rel=icon media="(prefers-color-scheme: light)" sizes=128x128><link href=/favicon/favicon-light-180.png rel=icon media="(prefers-color-scheme: light)" sizes=180x180><link href=/favicon/favicon-light-192.png rel=icon media="(prefers-color-scheme: light)" sizes=192x192><link href=/favicon/favicon-dark-32.png rel=icon media="(prefers-color-scheme: dark)" sizes=32x32><link href=/favicon/favicon-dark-128.png rel=icon media="(prefers-color-scheme: dark)" sizes=128x128><link href=/favicon/favicon-dark-180.png rel=icon media="(prefers-color-scheme: dark)" sizes=180x180><link href=/favicon/favicon-dark-192.png rel=icon media="(prefers-color-scheme: dark)" sizes=192x192><script>!function(){switch(localStorage.getItem("theme")||"auto"){case"light":document.documentElement.classList.remove("dark");break;case"dark":document.documentElement.classList.add("dark");break;case"auto":window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}let e=Math.floor(.3*window.innerHeight);e-=e%4,document.documentElement.style.setProperty("--banner-height-extend",`${e}px`);const t=parseFloat(getComputedStyle(document.documentElement).fontSize),n=75*t,o=(window.innerWidth-n)/2-t;document.documentElement.style.setProperty("--toc-width",`${o}px`)}()</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Codeforces 671D Roads in Yusland","description":"Codeforces 671D Roads in Yusland","keywords":["线性规划"],"author":{"@type":"Person","name":"NekoMio","url":"https://www.nekomio.com/"},"datePublished":"2017-10-29","inLanguage":"zh-CN"}</script><link href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css rel=stylesheet crossorigin=anonymous integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV><link href=https://www.nekomio.com/rss.xml rel=alternate title=NekoMio type=application/rss+xml><link href=/_astro/hoisted.DbgSiMEJ.css rel=stylesheet><style>#post-container :first-child{animation-delay:calc(var(--content-delay) + 0ms)}#post-container :nth-child(2){animation-delay:calc(var(--content-delay) + 50ms)}#post-container :nth-child(3){animation-delay:calc(var(--content-delay) + .1s)}#post-container :nth-child(4){animation-delay:calc(var(--content-delay) + 175ms)}#post-container :nth-child(5){animation-delay:calc(var(--content-delay) + .25s)}#post-container :nth-child(6){animation-delay:calc(var(--content-delay) + 325ms)}</style><link href=/_astro/_page_.D4ZYsO2b.css rel=stylesheet><link href=/_astro/_page_.QK4o86kr.css rel=stylesheet><link href=/_astro/about.DNCrpOWW.css rel=stylesheet><link href=/_astro/_page_.BIfGqQol.css rel=stylesheet><style>#display-setting.svelte-3akcb9 input[type=range].svelte-3akcb9{-webkit-appearance:none;height:1.5rem;background-image:var(--color-selection-bar);transition:background-image .15s ease-in-out}#display-setting.svelte-3akcb9 .svelte-3akcb9::-webkit-slider-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-3akcb9 .svelte-3akcb9::-webkit-slider-thumb:hover{background:#fffc}#display-setting.svelte-3akcb9 .svelte-3akcb9::-webkit-slider-thumb:active{background:#fff9}#display-setting.svelte-3akcb9 .svelte-3akcb9::-moz-range-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;border-width:0;background:#ffffffb3;box-shadow:none}#display-setting.svelte-3akcb9 .svelte-3akcb9::-moz-range-thumb:hover{background:#fffc}#display-setting.svelte-3akcb9 .svelte-3akcb9::-moz-range-thumb:active{background:#fff9}#display-setting.svelte-3akcb9.svelte-3akcb9::-ms-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-3akcb9.svelte-3akcb9::-ms-thumb:hover{background:#fffc}#display-setting.svelte-3akcb9.svelte-3akcb9::-ms-thumb:active{background:#fff9}</style><script type=module src=/_astro/hoisted.D1K018hP.js></script><script type=module src=/_astro/page.D0rYE--H.js></script></head><body class="transition min-h-screen" data-astro-cid-sckkx6r4 data-overlayscrollbars-initialize style=--bannerOffset:15vh;--banner-height-home:65vh;--banner-height:35vh;--configHue:250;--page-width:75rem><div id=config-carrier data-hue=250></div><div><div class="relative mx-auto max-w-[var(--page-width)] duration-700 md:px-4 pointer-events-none px-0 transition-all z-50" id=top-row><div class="pointer-events-auto sticky top-0 transition-all" id=navbar-wrapper><div class="onload-animation z-50" id=navbar><div class="transition absolute -top-8 bg-[var(--card-bg)] h-8 left-0 right-0"></div><div class="flex items-center justify-between card-base h-[4.5rem] max-w-[var(--page-width)] mx-auto overflow-visible px-4 rounded-t-none"><a href=/ class="rounded-lg btn-plain scale-animation active:scale-95 font-bold px-5 h-[3.25rem]"><div class="flex items-center flex-row text-[var(--primary)] text-md"><svg data-icon=material-symbols:home-outline-rounded height=1em viewBox="0 0 24 24" width=1em class="text-[1.75rem] mb-1 mr-2"><symbol id=ai:material-symbols:home-outline-rounded><path d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:home-outline-rounded></use></svg> NekoMio&#39;s Blog</div></a><div class="md:flex hidden"><a href=/ class="rounded-lg btn-plain scale-animation active:scale-95 font-bold px-5 h-11" aria-label=主页><div class="flex items-center">主页</div></a><a href=/archive/ class="rounded-lg btn-plain scale-animation active:scale-95 font-bold px-5 h-11" aria-label=归档><div class="flex items-center">归档</div></a><a href=/about/ class="rounded-lg btn-plain scale-animation active:scale-95 font-bold px-5 h-11" aria-label=关于><div class="flex items-center">关于</div></a></div><div class=flex><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).load=async t=>{await(await t())()},window.dispatchEvent(new Event("astro:load")),(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children="" client=load component-export=default component-url=/_astro/Search.CpmYBH4O.js opts={&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:true} props={} renderer-url=/_astro/client.CWY0IrnN.js ssr="" uid=2bL7g9><div class="rounded-lg items-center bg-black/[0.04] dark:bg-white/5 dark:focus-within:bg-white/10 dark:hover:bg-white/10 focus-within:bg-black/[0.06] h-11 hidden hover:bg-black/[0.06] lg:flex mr-2 transition-all" id=search-bar><astro-slot name=search-icon><svg data-icon=material-symbols:search height=1em viewBox="0 0 24 24" width=1em class="transition absolute pointer-events-none dark:text-white/30 ml-3 my-auto text-[1.25rem] text-black/30" slot=search-icon><symbol id=ai:material-symbols:search><path d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:search></use></svg></astro-slot><input class="text-sm bg-transparent dark:text-white/50 focus:w-60 outline-0 pl-10 svelte-1gu5h8y text-black/50 active:w-60 h-full transition-all w-40" placeholder=搜索 value=""></div><button class="rounded-lg btn-plain scale-animation h-11 active:scale-90 w-11 lg:hidden" aria-label="Search Panel" id=search-switch><astro-slot name=search-switch><svg data-icon=material-symbols:search height=1em viewBox="0 0 24 24" width=1em class=text-[1.25rem] slot=search-switch><use xlink:href=#ai:material-symbols:search></use></svg></astro-slot></button><div class="absolute float-panel-closed float-panel right-4 left-4 md:left-[unset] md:w-[30rem] p-2 rounded-2xl search-panel shadow-2xl top-20" id=search-panel><div class="flex items-center relative bg-black/[0.04] dark:bg-white/5 dark:focus-within:bg-white/10 dark:hover:bg-white/10 focus-within:bg-black/[0.06] h-11 hover:bg-black/[0.06] lg:hidden rounded-xl transition-all" id=search-bar-inside><astro-slot name=search-icon><svg data-icon=material-symbols:search height=1em viewBox="0 0 24 24" width=1em class="transition absolute pointer-events-none dark:text-white/30 ml-3 my-auto text-[1.25rem] text-black/30" slot=search-icon><symbol id=ai:material-symbols:search><path d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:search></use></svg></astro-slot><input class="text-sm bg-transparent dark:text-white/50 focus:w-60 outline-0 pl-10 svelte-1gu5h8y text-black/50 absolute inset-0" placeholder=Search value=""></div></div><template data-astro-template=arrow-icon><svg data-icon=fa6-solid:chevron-right height=1em viewBox="0 0 320 512" width=0.63em class="transition text-[var(--primary)] my-auto text=[0.75rem] translate-x-0.5" slot=arrow-icon><symbol id=ai:fa6-solid:chevron-right><path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256L73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z" fill=currentColor /></symbol><use xlink:href=#ai:fa6-solid:chevron-right></use></svg></template><!--astro:end--></astro-island><button class="rounded-lg btn-plain scale-animation h-11 active:scale-90 w-11" aria-label="Display Settings" id=display-settings-switch><svg data-icon=material-symbols:palette-outline height=1em viewBox="0 0 24 24" width=1em class=text-[1.25rem]><symbol id=ai:material-symbols:palette-outline><path d="M12 22q-2.05 0-3.875-.788t-3.187-2.15t-2.15-3.187T2 12q0-2.075.813-3.9t2.2-3.175T8.25 2.788T12.2 2q2 0 3.775.688t3.113 1.9t2.125 2.875T22 11.05q0 2.875-1.75 4.413T16 17h-1.85q-.225 0-.312.125t-.088.275q0 .3.375.863t.375 1.287q0 1.25-.687 1.85T12 22m-5.5-9q.65 0 1.075-.425T8 11.5t-.425-1.075T6.5 10t-1.075.425T5 11.5t.425 1.075T6.5 13m3-4q.65 0 1.075-.425T11 7.5t-.425-1.075T9.5 6t-1.075.425T8 7.5t.425 1.075T9.5 9m5 0q.65 0 1.075-.425T16 7.5t-.425-1.075T14.5 6t-1.075.425T13 7.5t.425 1.075T14.5 9m3 4q.65 0 1.075-.425T19 11.5t-.425-1.075T17.5 10t-1.075.425T16 11.5t.425 1.075T17.5 13M12 20q.225 0 .363-.125t.137-.325q0-.35-.375-.825T11.75 17.3q0-1.05.725-1.675T14.25 15H16q1.65 0 2.825-.962T20 11.05q0-3.025-2.312-5.038T12.2 4Q8.8 4 6.4 6.325T4 12q0 3.325 2.338 5.663T12 20" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:palette-outline></use></svg></button><astro-island await-children="" client=load component-export=default component-url=/_astro/LightDarkSwitch.Cr3CAeWm.js opts={&quot;name&quot;:&quot;LightDarkSwitch&quot;,&quot;value&quot;:true} props={} renderer-url=/_astro/client.CWY0IrnN.js ssr="" uid=XrqNC><div class="relative z-50" role=menu tabindex=-1><button class="rounded-lg btn-plain scale-animation h-11 active:scale-90 w-11 relative" aria-label="Light/Dark Mode" id=scheme-switch role=menuitem><div class="absolute opacity-0"></div><div class="absolute opacity-0"></div><div class=absolute></div></button><div class="transition absolute hidden lg:block -right-2 float-panel-closed pt-5 top-11" id=light-dark-panel><div class="card-base float-panel p-2"><button class="rounded-lg px-3 active:scale-95 btn-plain flex font-medium h-9 items-center justify-start scale-animation transition w-full whitespace-nowrap mb-0.5">亮色</button> <button class="rounded-lg px-3 active:scale-95 btn-plain flex font-medium h-9 items-center justify-start scale-animation transition w-full whitespace-nowrap mb-0.5">暗色</button> <button class="rounded-lg px-3 active:scale-95 btn-plain flex font-medium h-9 items-center justify-start scale-animation transition w-full whitespace-nowrap current-theme-btn">跟随系统</button></div></div></div><!--astro:end--></astro-island><button class="rounded-lg btn-plain scale-animation h-11 active:scale-90 w-11 md:hidden" aria-label=Menu id=nav-menu-switch name="Nav Menu"><svg data-icon=material-symbols:menu-rounded height=1em viewBox="0 0 24 24" width=1em class=text-[1.25rem]><symbol id=ai:material-symbols:menu-rounded><path d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:menu-rounded></use></svg></button></div><div class="absolute float-panel-closed float-panel right-4 fixed px-2 py-2 transition-all" id=nav-menu-panel><a href=/ class="rounded-lg items-center flex transition active:bg-[var(--btn-plain-bg-active)] gap-8 group hover:bg-[var(--btn-plain-bg-hover)] justify-between pl-3 pr-1 py-2"><div class="transition font-bold dark:text-white/75 text-black/75 group-active:text-[var(--primary)] group-hover:text-[var(--primary)]">主页</div><svg data-icon=material-symbols:chevron-right-rounded height=1em viewBox="0 0 24 24" width=1em class="transition text-[var(--primary)] text-[1.25rem]"><use xlink:href=#ai:material-symbols:chevron-right-rounded></use></svg> </a><a href=/archive/ class="rounded-lg items-center flex transition active:bg-[var(--btn-plain-bg-active)] gap-8 group hover:bg-[var(--btn-plain-bg-hover)] justify-between pl-3 pr-1 py-2"><div class="transition font-bold dark:text-white/75 text-black/75 group-active:text-[var(--primary)] group-hover:text-[var(--primary)]">归档</div><svg data-icon=material-symbols:chevron-right-rounded height=1em viewBox="0 0 24 24" width=1em class="transition text-[var(--primary)] text-[1.25rem]"><use xlink:href=#ai:material-symbols:chevron-right-rounded></use></svg> </a><a href=/about/ class="rounded-lg items-center flex transition active:bg-[var(--btn-plain-bg-active)] gap-8 group hover:bg-[var(--btn-plain-bg-hover)] justify-between pl-3 pr-1 py-2"><div class="transition font-bold dark:text-white/75 text-black/75 group-active:text-[var(--primary)] group-hover:text-[var(--primary)]">关于</div><svg data-icon=material-symbols:chevron-right-rounded height=1em viewBox="0 0 24 24" width=1em class="transition text-[var(--primary)] text-[1.25rem]"><use xlink:href=#ai:material-symbols:chevron-right-rounded></use></svg></a></div><script>(self.Astro||(self.Astro={})).only=async t=>{await(await t())()},window.dispatchEvent(new Event("astro:only"))</script><astro-island await-children="" client=only component-export=default component-url=/_astro/DisplaySettings.BVTD3Gh5.js opts={&quot;name&quot;:&quot;DisplaySettings&quot;,&quot;value&quot;:&quot;svelte&quot;} props={} renderer-url=/_astro/client.CWY0IrnN.js ssr="" uid=1CnYR><template data-astro-template=restore-icon><svg data-icon=fa6-solid:arrow-rotate-left height=1em viewBox="0 0 512 512" width=1em class=text-[0.875rem] slot=restore-icon><symbol id=ai:fa6-solid:arrow-rotate-left><path d="M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2l17.6-17.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0z" fill=currentColor /></symbol><use xlink:href=#ai:fa6-solid:arrow-rotate-left></use></svg></template><!--astro:end--></astro-island></div></div><script>!async function(){const i=await import("/pagefind/pagefind.js");await i.options({excerptLength:20}),i.init(),window.pagefind=i,i.search("")}()</script></div></div><div class="absolute pointer-events-none w-full z-30" style=top:5.5rem><div class="relative mx-auto max-w-[var(--page-width)] pointer-events-auto"><div class="transition left-0 right-0 duration-700 gap-4 grid grid-cols-[17.5rem_auto] grid-rows-[auto_1fr_auto] lg:grid-rows-[auto] md:px-4 mx-auto px-0 w-full" id=main-grid><div class="onload-animation col-span-2 lg:col-span-1 lg:max-w-[17.5rem] lg:row-end-2 lg:row-start-1 mb-4 row-end-3 row-start-2 w-full" id=sidebar><div class="flex w-full gap-4 flex-col mb-4"><div class="card-base p-3"><a href=/about/ class="relative rounded-xl overflow-hidden active:scale-95 block group lg:max-w-none lg:mt-0 lg:mx-0 max-w-[240px] mb-3 mt-1 mx-auto" aria-label="Go to About Page"><div class="transition flex items-center justify-center absolute group-active:bg-black/50 group-hover:bg-black/30 h-full pointer-events-none w-full z-50"><svg data-icon=fa6-regular:address-card height=1em viewBox="0 0 576 512" width=1.13em class="transition group-hover:opacity-100 group-hover:scale-100 opacity-0 scale-90 text-5xl text-white"><symbol id=ai:fa6-regular:address-card><path d="M512 80c8.8 0 16 7.2 16 16v320c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm144 224a64 64 0 1 0 0-128a64 64 0 1 0 0 128m-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80zm200-144c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24z" fill=currentColor /></symbol><use xlink:href=#ai:fa6-regular:address-card></use></svg></div><div class="relative mx-auto lg:mt-0 overflow-hidden h-full lg:w-full"><div class="transition absolute pointer-events-none bg-opacity-50 dark:bg-black/10 inset-0"></div><img alt="Profile Image of the Author" class="object-cover h-full w-full" decoding=async height=460 loading=lazy src=/_astro/avatar.ndh0UZd8_1NytCb.webp style=object-position:center width=460></div></a><div class=px-2><div class="transition font-bold dark:text-neutral-50 mb-1 text-center text-xl">NekoMio</div><div class="transition mx-auto bg-[var(--primary)] h-1 mb-2 rounded-full w-5"></div><div class="transition text-center mb-2.5 text-neutral-400">A cat who loves to write.</div><div class="flex justify-center gap-2 mb-1"><a href=https://space.bilibili.com/11558109 class="rounded-lg h-10 active:scale-90 btn-regular w-10" aria-label=Bilibili rel=me target=_blank><svg data-icon=fa6-brands:bilibili height=1em viewBox="0 0 512 512" width=1em class=text-[1.5rem]><symbol id=ai:fa6-brands:bilibili><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1c-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79c0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0q13.2 0 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0q13.2 0 21.9 8.603c5.7 5.737 8.6 12.997 8.6 21.797c0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1m-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5c-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8c-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8s9.7-14.3 10.1-23.5zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2c-6.2 6.3-14 9.5-23.6 9.5s-17.5-3.2-23.6-9.5s-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2s13.2-9.6 23.3-10c9.2.4 17 3.7 23.3 10m191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2s-14 9.5-23.6 9.5s-17.4-3.2-23.6-9.5c-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2s14.1-9.6 23.3-10c9.2.4 17 3.7 23.3 10" fill=currentColor /></symbol><use xlink:href=#ai:fa6-brands:bilibili></use></svg> </a><a href=https://github.com/NekoMio class="rounded-lg h-10 active:scale-90 btn-regular w-10" aria-label=GitHub rel=me target=_blank><svg data-icon=fa6-brands:github height=1em viewBox="0 0 496 512" width=0.97em class=text-[1.5rem]><symbol id=ai:fa6-brands:github><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2" fill=currentColor /></symbol><use xlink:href=#ai:fa6-brands:github></use></svg></a></div></div></div></div><div class="flex w-full gap-4 flex-col top-4 top-4 duration-700 sticky transition-all" id=sidebar-sticky><widget-layout class="onload-animation card-base pb-4" data-astro-cid-ucso7hve data-id=categories data-is-collapsed=true style=animation-delay:150ms;--collapsedHeight:7.5rem><div class="transition font-bold before:absolute before:bg-[var(--primary)] before:rounded-md before:h-4 before:left-[-16px] before:top-[5.5px] before:w-1 dark:text-neutral-100 mb-2 ml-8 mt-4 relative text-lg text-neutral-900" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve>分类</div><div class="overflow-hidden collapse-wrapper collapsed px-4" id=categories style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><a href=/archive/category/图库/ aria-label="View all posts in the 图库 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">图库</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">1</div></div></button> </a><a href=/archive/category/uncategorized/ aria-label="View all posts in the 未分类 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">未分类</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">1</div></div></button> </a><a href=/archive/category/生活/ aria-label="View all posts in the 生活 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">生活</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">1</div></div></button> </a><a href=/archive/category/知识点/ aria-label="View all posts in the 知识点 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">知识点</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">2</div></div></button> </a><a href=/archive/category/笔记/ aria-label="View all posts in the 笔记 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">笔记</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">10</div></div></button> </a><a href=/archive/category/随笔/ aria-label="View all posts in the 随笔 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">随笔</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">7</div></div></button> </a><a href=/archive/category/题解/ aria-label="View all posts in the 题解 category"><button class="rounded-lg w-full active:bg-[var(--btn-plain-bg-active)] bg-none dark:hover:text-[var(--primary)] dark:text-neutral-300 h-10 hover:bg-[var(--btn-plain-bg-hover)] hover:pl-3 hover:text-[var(--primary)] pl-2 text-neutral-700 transition-all"><div class="flex items-center justify-between mr-2 relative"><div class="overflow-hidden overflow-ellipsis whitespace-nowrap text-left">题解</div><div class="rounded-lg text-sm bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)] dark:text-[var(--deep-text)] flex font-bold h-7 items-center justify-center min-w-[2rem] ml-4 text-[var(--btn-content)] transition">137</div></div></button></a></div><div class="px-4 -mb-2 expand-btn" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><button class="rounded-lg btn-plain h-9 w-full" data-astro-cid-ucso7hve style=--collapsedHeight:7.5rem><div class="flex items-center justify-center -translate-x-2 gap-2 text-[var(--primary)]" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><svg data-icon=material-symbols:more-horiz height=1em viewBox="0 0 24 24" width=1em class=text-[1.75rem] data-astro-cid-ucso7hve><symbol id=ai:material-symbols:more-horiz><path d="M6 14q-.825 0-1.412-.587T4 12t.588-1.412T6 10t1.413.588T8 12t-.587 1.413T6 14m6 0q-.825 0-1.412-.587T10 12t.588-1.412T12 10t1.413.588T14 12t-.587 1.413T12 14m6 0q-.825 0-1.412-.587T16 12t.588-1.412T18 10t1.413.588T20 12t-.587 1.413T18 14" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:more-horiz></use></svg> 更多</div></button></div></widget-layout><widget-layout class="onload-animation card-base pb-4" data-astro-cid-ucso7hve data-id=tags data-is-collapsed=true style=animation-delay:.2s;--collapsedHeight:7.5rem><div class="transition font-bold before:absolute before:bg-[var(--primary)] before:rounded-md before:h-4 before:left-[-16px] before:top-[5.5px] before:w-1 dark:text-neutral-100 mb-2 ml-8 mt-4 relative text-lg text-neutral-900" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve>标签</div><div class="overflow-hidden collapse-wrapper collapsed px-4" id=tags style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><div class="flex flex-wrap gap-2"><a href=/archive/tag/2-SAT/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 2-SAT tag">2-SAT </a><a href=/archive/tag/AC自动机/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the AC自动机 tag">AC自动机 </a><a href=/archive/tag/BFS/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the BFS tag">BFS </a><a href=/archive/tag/CDQ/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the CDQ tag">CDQ </a><a href=/archive/tag/dfs/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the dfs tag">dfs </a><a href=/archive/tag/DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the DP tag">DP </a><a href=/archive/tag/fail树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the fail树 tag">fail树 </a><a href=/archive/tag/FFT/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the FFT tag">FFT </a><a href=/archive/tag/FFT&#38;NTT/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the FFT&#38;NTT tag">FFT&amp;NTT </a><a href=/archive/tag/FWT/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the FWT tag">FWT </a><a href=/archive/tag/hash/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the hash tag">hash </a><a href=/archive/tag/KD-Tree/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the KD-Tree tag">KD-Tree </a><a href=/archive/tag/KMP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the KMP tag">KMP </a><a href=/archive/tag/LCA/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the LCA tag">LCA </a><a href=/archive/tag/SPFA/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the SPFA tag">SPFA </a><a href=/archive/tag/STL/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the STL tag">STL </a><a href=/archive/tag/Tarjan/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the Tarjan tag">Tarjan </a><a href=/archive/tag/Treap/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the Treap tag">Treap </a><a href=/archive/tag/Trie/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the Trie tag">Trie </a><a href=/archive/tag/主席树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 主席树 tag">主席树 </a><a href=/archive/tag/乱搞/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 乱搞 tag">乱搞 </a><a href=/archive/tag/二分/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 二分 tag">二分 </a><a href=/archive/tag/二分图匹配/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 二分图匹配 tag">二分图匹配 </a><a href=/archive/tag/二分答案/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 二分答案 tag">二分答案 </a><a href=/archive/tag/二维SPFA/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 二维SPFA tag">二维SPFA </a><a href=/archive/tag/交互/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 交互 tag">交互 </a><a href=/archive/tag/位运算/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 位运算 tag">位运算 </a><a href=/archive/tag/其他/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 其他 tag">其他 </a><a href=/archive/tag/最小生成树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 最小生成树 tag">最小生成树 </a><a href=/archive/tag/分块/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 分块 tag">分块 </a><a href=/archive/tag/区间DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 区间DP tag">区间DP </a><a href=/archive/tag/半平面交/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 半平面交 tag">半平面交 </a><a href=/archive/tag/博弈论/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 博弈论 tag">博弈论 </a><a href=/archive/tag/可持久化/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 可持久化 tag">可持久化 </a><a href=/archive/tag/可持久化Trie树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 可持久化Trie树 tag">可持久化Trie树 </a><a href=/archive/tag/后缀数组/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 后缀数组 tag">后缀数组 </a><a href=/archive/tag/图库/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 图库 tag">图库 </a><a href=/archive/tag/平衡树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 平衡树 tag">平衡树 </a><a href=/archive/tag/并查集/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 并查集 tag">并查集 </a><a href=/archive/tag/插头DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 插头DP tag">插头DP </a><a href=/archive/tag/数学/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 数学 tag">数学 </a><a href=/archive/tag/数论/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 数论 tag">数论 </a><a href=/archive/tag/无旋Treap/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 无旋Treap tag">无旋Treap </a><a href=/archive/tag/日记/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 日记 tag">日记 </a><a href=/archive/tag/暴力/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 暴力 tag">暴力 </a><a href=/archive/tag/权值树状数组/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 权值树状数组 tag">权值树状数组 </a><a href=/archive/tag/栈/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 栈 tag">栈 </a><a href=/archive/tag/树DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 树DP tag">树DP </a><a href=/archive/tag/树套树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 树套树 tag">树套树 </a><a href=/archive/tag/树状数组/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 树状数组 tag">树状数组 </a><a href=/archive/tag/树贪心/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 树贪心 tag">树贪心 </a><a href=/archive/tag/概率DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 概率DP tag">概率DP </a><a href=/archive/tag/模拟/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 模拟 tag">模拟 </a><a href=/archive/tag/欧拉定理/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 欧拉定理 tag">欧拉定理 </a><a href=/archive/tag/点分治/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 点分治 tag">点分治 </a><a href=/archive/tag/状压DP/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 状压DP tag">状压DP </a><a href=/archive/tag/生成函数/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 生成函数 tag">生成函数 </a><a href=/archive/tag/矩阵乘/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 矩阵乘 tag">矩阵乘 </a><a href=/archive/tag/线性规划/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 线性规划 tag">线性规划 </a><a href=/archive/tag/线段树/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 线段树 tag">线段树 </a><a href=/archive/tag/组合/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 组合 tag">组合 </a><a href=/archive/tag/网络流/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 网络流 tag">网络流 </a><a href=/archive/tag/群论/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 群论 tag">群论 </a><a href=/archive/tag/莫比乌斯反演/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 莫比乌斯反演 tag">莫比乌斯反演 </a><a href=/archive/tag/计算几何/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 计算几何 tag">计算几何 </a><a href=/archive/tag/贪心/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 贪心 tag">贪心 </a><a href=/archive/tag/费用流/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 费用流 tag">费用流 </a><a href=/archive/tag/高斯消元/ class="rounded-lg text-sm btn-regular h-8 px-3" aria-label="View all posts with the 高斯消元 tag">高斯消元</a></div></div><div class="px-4 -mb-2 expand-btn" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><button class="rounded-lg btn-plain h-9 w-full" data-astro-cid-ucso7hve style=--collapsedHeight:7.5rem><div class="flex items-center justify-center -translate-x-2 gap-2 text-[var(--primary)]" style=--collapsedHeight:7.5rem data-astro-cid-ucso7hve><svg data-icon=material-symbols:more-horiz height=1em viewBox="0 0 24 24" width=1em class=text-[1.75rem] data-astro-cid-ucso7hve><use xlink:href=#ai:material-symbols:more-horiz></use></svg> 更多</div></button></div></widget-layout></div></div><main class="overflow-hidden col-span-2 lg:col-span-1 transition-swup-fade" id=swup-container><div class=onload-animation id=content-wrapper><div class="flex w-full relative mb-4 overflow-hidden rounded-[var(--radius-large)]"><div class="relative w-full card-base md:px-9 pb-4 pt-6 px-6 z-10" id=post-container><div class="transition flex dark:text-white/30 flex-row gap-5 mb-3 onload-animation text-black/30"><div class="flex items-center flex-row"><div class="transition flex items-center justify-center bg-black/5 dark:bg-white/10 dark:text-white/50 h-6 mr-2 rounded-md text-black/50 w-6"><svg data-icon=material-symbols:notes-rounded height=1em viewBox="0 0 24 24" width=1em><symbol id=ai:material-symbols:notes-rounded><path d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h10q.425 0 .713.288T15 17t-.288.713T14 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:notes-rounded></use></svg></div><div class=text-sm>1210 字</div></div><div class="flex items-center flex-row"><div class="transition flex items-center justify-center bg-black/5 dark:bg-white/10 dark:text-white/50 h-6 mr-2 rounded-md text-black/50 w-6"><svg data-icon=material-symbols:schedule-outline-rounded height=1em viewBox="0 0 24 24" width=1em><symbol id=ai:material-symbols:schedule-outline-rounded><path d="M13 11.6V8q0-.425-.288-.712T12 7t-.712.288T11 8v3.975q0 .2.075.388t.225.337l3.3 3.3q.275.275.7.275T16 16t.275-.7t-.275-.7zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.325 0 5.663-2.337T20 12t-2.337-5.663T12 4T6.337 6.338T4 12t2.338 5.663T12 20" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:schedule-outline-rounded></use></svg></div><div class=text-sm>6 分钟</div></div></div><div class="relative onload-animation"><div class="transition font-bold before:absolute before:bg-[var(--primary)] before:rounded-md before:h-5 before:left-[-1.125rem] before:top-[0.75rem] block dark:text-white/90 mb-3 md:before:w-1 md:text-[2.25rem]/[2.75rem] text-3xl text-black/90 w-full" data-pagefind-body data-pagefind-meta=title data-pagefind-weight=10>Codeforces 671D Roads in Yusland</div></div><div class=onload-animation><div class="flex items-center dark:text-neutral-400 flex-wrap gap-4 gap-x-4 gap-y-2 mb-5 text-neutral-500"><div class="flex items-center"><div class=meta-icon><svg data-icon=material-symbols:calendar-today-outline-rounded height=1em viewBox="0 0 24 24" width=1em class=text-xl><symbol id=ai:material-symbols:calendar-today-outline-rounded><path d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:calendar-today-outline-rounded></use></svg></div><span class="text-sm text-50 font-medium">2017-10-29</span></div><div class="flex items-center"><div class=meta-icon><svg data-icon=material-symbols:book-2-outline-rounded height=1em viewBox="0 0 24 24" width=1em class=text-xl><symbol id=ai:material-symbols:book-2-outline-rounded><path d="M6 15.325q.35-.175.725-.25T7.5 15H8V4h-.5q-.625 0-1.062.438T6 5.5zM10 15h8V4h-8zm-4 .325V4zM7.5 22q-1.45 0-2.475-1.025T4 18.5v-13q0-1.45 1.025-2.475T7.5 2H18q.825 0 1.413.587T20 4v12.525q0 .2-.162.363t-.588.362q-.35.175-.55.5t-.2.75t.2.763t.55.487t.55.413t.2.562v.25q0 .425-.288.725T19 22zm0-2h9.325q-.15-.35-.237-.712T16.5 18.5q0-.4.075-.775t.25-.725H7.5q-.65 0-1.075.438T6 18.5q0 .65.425 1.075T7.5 20" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:book-2-outline-rounded></use></svg></div><div class="flex items-center flex-row flex-nowrap"><a href=/archive/category/题解/ class="text-sm transition text-50 dark:hover:text-[var(--primary)] font-medium hover:text-[var(--primary)] link-lg whitespace-nowrap" aria-label="View all posts in the 题解 category">题解</a></div></div><div class="flex items-center"><div class=meta-icon><svg data-icon=material-symbols:tag-rounded height=1em viewBox="0 0 24 24" width=1em class=text-xl><symbol id=ai:material-symbols:tag-rounded><path d="m9 16l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T6.3 18.8L7 16H4.275q-.5 0-.8-.387T3.3 14.75q.075-.35.35-.55t.625-.2H7.5l1-4H5.775q-.5 0-.8-.387T4.8 8.75q.075-.35.35-.55t.625-.2H9l.825-3.275Q9.9 4.4 10.15 4.2t.6-.2q.475 0 .775.375t.175.825L11 8h4l.825-3.275q.075-.325.325-.525t.6-.2q.475 0 .775.375t.175.825L17 8h2.725q.5 0 .8.387t.175.863q-.075.35-.35.55t-.625.2H16.5l-1 4h2.725q.5 0 .8.388t.175.862q-.075.35-.35.55t-.625.2H15l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T12.3 18.8L13 16zm.5-2h4l1-4h-4z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:tag-rounded></use></svg></div><div class="flex items-center flex-row flex-nowrap"><div class="text-sm hidden mx-1.5 text-[var(--meta-divider)]">/</div><a href=/archive/tag/线性规划/ class="text-sm transition text-50 dark:hover:text-[var(--primary)] font-medium hover:text-[var(--primary)] link-lg whitespace-nowrap" aria-label="View all posts with the 线性规划 tag">线性规划</a></div></div></div><div class="mb-5 border-[var(--line-divider)] border-b-[1px] border-dashed"></div></div><div class="onload-animation mb-6 !max-w-none custom-md dark:prose-invert markdown-content prose prose-base" data-pagefind-body><h3 id=description>Description<a href=#description class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h3><p>Mayor of Yusland just won the lottery and decided to spent money on something good for town. For example, repair all the roads in the town.</p><p>Yusland consists of n intersections connected by n - 1 bidirectional roads. One can travel from any intersection to any other intersection using only these roads.</p><p>There is only one road repairing company in town, named “RC company”. Company’s center is located at the intersection 1. RC company doesn’t repair roads you tell them. Instead, they have workers at some intersections, who can repair only some specific paths. The i-th worker can be paid ci coins and then he repairs all roads on a path from ui to some vi that lies on the path from ui to intersection 1.</p><p>Mayor asks you to choose the cheapest way to hire some subset of workers in order to repair all the roads in Yusland. It’s allowed that some roads will be repaired more than once.</p><p>If it’s impossible to repair all roads print  -1.</p><h3 id=input>Input<a href=#input class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h3><p>The first line of the input contains two integers n and m (1 ≤ n, m ≤ 300 000) — the number of cities in Yusland and the number of workers respectively.</p><p>Then follow n−1 line, each of them contains two integers xi and yi (1 ≤ xi, yi ≤ n) — indices of intersections connected by the i-th road.</p><p>Last m lines provide the description of workers, each line containing three integers ui, vi and ci (1 ≤ ui, vi ≤ n, 1 ≤ ci ≤ 109). This means that the i-th worker can repair all roads on the path from vi to ui for ci coins. It’s guaranteed that vi lies on the path from ui to 1. Note that vi and ui may coincide.</p><h3 id=output>Output<a href=#output class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h3><p>If it’s impossible to repair all roads then print  -1. Otherwise print a single integer — minimum cost required to repair all roads using “RC company” workers.</p><h3 id=input-1>input<a href=#input-1 class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h3><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>6 5</span></span>
<span class=line><span>1 2</span></span>
<span class=line><span>1 3</span></span>
<span class=line><span>3 4</span></span>
<span class=line><span>4 5</span></span>
<span class=line><span>4 6</span></span>
<span class=line><span>2 1 2</span></span>
<span class=line><span>3 1 4</span></span>
<span class=line><span>4 1 3</span></span>
<span class=line><span>5 3 1</span></span>
<span class=line><span>6 3 2</span></span>
<span class=line><span></span></span></code></pre><h3 id=output-1>output<a href=#output-1 class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h3><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>8</span></span>
<span class=line><span></span></span></code></pre><h2 id=题意>题意<a href=#题意 class=anchor><span class=anchor-icon data-pagefind-ignore="">#</span></a></h2><blockquote><p>给一颗树，给定m对祖先节点关系。 每选用一对关系需要付出c的花费， 求用这些关系将所有边都覆盖的最小花费。</p></blockquote><p>本题有 <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>nlog(n)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style=margin-right:.01968em>l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style=margin-right:.03588em>g</span><span class=mopen>(</span><span class="mord mathnormal">n</span><span class=mclose>)</span></span></span></span> 树DP做法请看<a href=http://cooook.coding.me/2017/10/29/CF671D/ >CF671D 树形DP+数据结构优化DP</a></p><p>这里我想说一下 <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>nlog(n)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style=margin-right:.01968em>l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style=margin-right:.03588em>g</span><span class=mopen>(</span><span class="mord mathnormal">n</span><span class=mclose>)</span></span></span></span> 的贪心做法</p><p>我们将修路转化为修点， 1 号点不用修<br>首先我们设<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=application/x-tex>x_i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5806em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span>为第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6595em></span><span class="mord mathnormal">i</span></span></span></span>个工人的使用次数。 那么显然<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>≥</mo><mn>0</mn></mrow><annotation encoding=application/x-tex>x_i \geq 0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.786em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">i</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>≥</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6444em></span><span class=mord>0</span></span></span></span><br>然设一个<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>A</mi></mrow><annotation encoding=application/x-tex>A</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class="mord mathnormal">A</span></span></span></span>矩阵如果第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>j</mi></mrow><annotation encoding=application/x-tex>j</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.854em;vertical-align:-.1944em></span><span class="mord mathnormal" style=margin-right:.05724em>j</span></span></span></span>个工人能覆盖到第<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>i</mi></mrow><annotation encoding=application/x-tex>i</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6595em></span><span class="mord mathnormal">i</span></span></span></span>点那么<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>A</mi><mrow><mi>i</mi><mo separator=true>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>A_{i,j}=1</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.9694em;vertical-align:-.2861em></span><span class=mord><span class="mord mathnormal">A</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mpunct">,</span><span class="mord mathnormal mtight" style=margin-right:.05724em>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.2861em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6444em></span><span class=mord>1</span></span></span></span>否则<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>A</mi><mrow><mi>i</mi><mo separator=true>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=application/x-tex>A_{i,j}=0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.9694em;vertical-align:-.2861em></span><span class=mord><span class="mord mathnormal">A</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mpunct">,</span><span class="mord mathnormal mtight" style=margin-right:.05724em>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.2861em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6444em></span><span class=mord>0</span></span></span></span><br>那么很显然对于<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mi mathvariant=normal>∀</mi><mn>2</mn><mo>&#x3C;</mo><mo>=</mo><mi>i</mi><mo>&#x3C;</mo><mo>=</mo><mi>n</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>(\forall 2 &#x3C;= i &#x3C;= n)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mopen>(</span><span class=mord>∀2</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>&#x3C;=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6986em;vertical-align:-.0391em></span><span class="mord mathnormal">i</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>&#x3C;=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">n</span><span class=mclose>)</span></span></span></span>都有<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mrow><msub><mi>A</mi><mrow><mi>i</mi><mo separator=true>,</mo><mi>j</mi></mrow></msub><mo>∗</mo><msub><mi>x</mi><mi>j</mi></msub></mrow><mo>></mo><mn>0</mn></mrow><annotation encoding=application/x-tex>\sum_{j = 1}^{m}{A_{i,j}*x_j} > 0</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1.2401em;vertical-align:-.4358em></span><span class=mop><span class="mop op-symbol small-op" style=position:relative;top:0>∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.8043em><span style=top:-2.4003em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:.05724em>j</span><span class="mtight mrel">=</span><span class="mord mtight">1</span></span></span></span><span style=top:-3.2029em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.4358em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.1667em></span><span class=mord><span class=mord><span class="mord mathnormal">A</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mtight mpunct">,</span><span class="mord mathnormal mtight" style=margin-right:.05724em>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.2861em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2222em></span><span class=mbin>∗</span><span class=mspace style=margin-right:.2222em></span><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3117em><span style=top:-2.55em;margin-left:0;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight" style=margin-right:.05724em>j</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.2861em><span></span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>></span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6444em></span><span class=mord>0</span></span></span></span></p><p>如果将这个过程看作矩阵乘， 将x看作m行1列的矩阵<br>那么</p><span class=katex-error style=color:#c00 title="ParseError: KaTeX parse error: Can&#x27;t use function &#x27;$&#x27; in math mode at position 149: …\ \end{bmatrix}$̲$

我们设右边的矩阵为$e$…">\begin{bmatrix} x_{1,1} \\ x_{1,2} \\ x_{1,3} \\ \vdots \\ x_{1,m} \\ \end{bmatrix} \geq \begin{bmatrix} 1 \\ 1 \\ 1 \\ \vdots \\ 1 \\ \end{bmatrix}$$ 我们设右边的矩阵为$e$ 那么我们要求的答案为 $$ min\\{\sum_{j=1}^{m}c_j * x_j\\} $$ 如果将c看作矩阵则答案为 $min\\{c^Tx\\}$ 那么我们发现他是一个线性规划问题。 我们可以考虑它的对偶问题。 由于对偶问题求得到函数值与原问题相等， 那么我们只需要求出对偶问题的答案。 下面说一下对偶问题的构造 > 1. 给每个原始约束条件定义一个非负对偶变量$y_i (i=1,2,…,m)$; > 2. 使原问题的目标函数系数cj变为其对偶问题约束条件的右端常数 > 3. 使原问题约束条件的右端常数bi变为其对偶问题目标函数的系数； > 4. 将原问题约束条件的系数矩阵转置，得到其对偶问题约束条件的系数矩阵； > 5. 改变约束条件不等号的方向，即将"=&#x3C;"改为">="； > 6. 原问题“max”型，对偶问题为“min”型．反之亦然. 那么本题的对偶问题为 $y >= 0$ $A^Ty &#x3C;= c$ 求$max\{e^Ty\}$ $e$ 是上文中设的矩阵 那么用人话说就是 每个点可以选多次一个工人的路径上的点的选择次数的和在$c_i$以内， 求所有点选择次数的最大和。 我们可以贪心的由下向上选取。 用一个set启发式合并就可以了。 时间复杂度$nlog(n)$ 常数略大。 ```c++ // #pragma GCC optimize("O3") #include &#x3C;cstdio> #include &#x3C;cstring> #include &#x3C;algorithm> #include &#x3C;set> #include &#x3C;vector> using namespace std; const int MAXN = 300005; char xch,xB[1&#x3C;&#x3C;15],*xS=xB,*xTT=xB; #define getc() (xS==xTT&#x26;&#x26;(xTT=(xS=xB)+fread(xB,1,1&#x3C;&#x3C;15,stdin),xS==xTT)?0:*xS++) inline int read() { int x=0,f=1;char ch=getc(); while(ch&#x3C;'0'||ch>'9'){if(ch=='-')f=-1;ch=getc();} while(ch>='0'&#x26;&#x26;ch&#x3C;='9'){x=x*10+ch-'0';ch=getc();} return x*f; } struct edge { int END, next; }v[MAXN &#x3C;&#x3C; 1]; int first[MAXN], p; void add(int a, int b) { v[p].END = b; v[p].next = first[a]; first[a] = p++; } struct data { int v, cnt; data(int c = 0, int cn = 0) { v = c, cnt = cn; } bool operator &#x3C; (const data &#x26;a) const { return cnt == a.cnt ? v &#x3C; a.v : cnt &#x3C; a.cnt; } }; vector&#x3C;data> Add[MAXN], rm[MAXN]; set&#x3C;data> st[MAXN]; long long ans; int C[MAXN], Ad[MAXN]; bool died; void dfs(int rt, int fa) { set&#x3C;data>::iterator it; for (int i = 0; i &#x3C; Add[rt].size(); i++) st[rt].insert(Add[rt][i]); for (int i = first[rt]; i != -1; i = v[i].next) { if (v[i].END == fa) continue; dfs(v[i].END, rt); if (died) return; if (st[v[i].END].size() > st[rt].size()) swap(st[v[i].END], st[rt]), swap(Ad[v[i].END], Ad[rt]); for (it = st[v[i].END].begin(); it != st[v[i].END].end(); it++) st[rt].insert(data(it->v, C[it->v] = it->cnt - Ad[v[i].END] + Ad[rt])); } for (int i = 0; i &#x3C; rm[rt].size(); i++) st[rt].erase(data(rm[rt][i].v, C[rm[rt][i].v])); if (rt == 1) return; if (st[rt].empty()) {died = 1; return;} ans += st[rt].begin()->cnt - Ad[rt]; Ad[rt] += st[rt].begin()->cnt - Ad[rt]; } signed main() { int n = read(), m = read(), a, b, c; memset (first, -1, sizeof (first)); for (int i = 1; i &#x3C; n; i++) { a = read(), b = read(); add(a, b); add(b, a); } for (int i = 1; i &#x3C;= m; i++) { a = read(), b = read(), c = read(); Add[a].push_back(data(i, c)); rm[b].push_back(data(i, c)); C[i] = c; } dfs(1, 0); if (died) printf ("-1"); else printf ("%lld", ans); } ```</span></div><div class="transition relative rounded-xl bg-[var(--license-block-bg)] license-container mb-6 onload-animation overflow-hidden px-6 py-5"><div class="transition font-bold dark:text-white/75 text-black/75">Codeforces 671D Roads in Yusland</div><a href=https://www.nekomio.com/posts/118/ class="text-[var(--primary)] link">https://www.nekomio.com/posts/118/</a><div class="flex gap-6 mt-2"><div><div class="text-sm transition dark:text-white/30 text-black/30">作者</div><div class="transition whitespace-nowrap dark:text-white/75 text-black/75">NekoMio</div></div><div><div class="text-sm transition dark:text-white/30 text-black/30">发布于</div><div class="transition whitespace-nowrap dark:text-white/75 text-black/75">2017-10-29</div></div><div><div class="text-sm transition dark:text-white/30 text-black/30">许可协议</div><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="text-[var(--primary)] link whitespace-nowrap" target=_blank>CC BY-NC-SA 4.0</a></div></div><svg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em class="transition absolute pointer-events-none -translate-y-1/2 dark:text-white/5 right-6 text-[15rem] text-black/5 top-1/2"><symbol id=ai:fa6-brands:creative-commons><path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86m143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82" fill=currentColor /></symbol><use xlink:href=#ai:fa6-brands:creative-commons></use></svg></div></div></div><div class="flex w-full gap-4 flex-col mb-4 justify-between md:flex-row overflow-hidden"><a href=/posts/119/ class="overflow-hidden w-full active:scale-95 font-bold"><div class="flex items-center w-full justify-start btn-card gap-4 h-[3.75rem] max-w-full px-4 rounded-2xl"><svg data-icon=material-symbols:chevron-left-rounded height=1em viewBox="0 0 24 24" width=1em class="text-[var(--primary)] text-[2rem]"><symbol id=ai:material-symbols:chevron-left-rounded><path d="m10.8 12l3.9 3.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-4.6-4.6q-.15-.15-.212-.325T8.425 12t.063-.375t.212-.325l4.6-4.6q.275-.275.7-.275t.7.275t.275.7t-.275.7z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:chevron-left-rounded></use></svg><div class="transition whitespace-nowrap dark:text-white/75 text-black/75 max-w-[calc(100%_-_3rem)] overflow-ellipsis overflow-hidden">BZOJ3925 状压DP+概率DP</div></div></a><a href=/posts/117/ class="overflow-hidden w-full active:scale-95 font-bold"><div class="flex items-center w-full btn-card gap-4 h-[3.75rem] max-w-full px-4 rounded-2xl justify-end"><div class="transition whitespace-nowrap dark:text-white/75 text-black/75 max-w-[calc(100%_-_3rem)] overflow-ellipsis overflow-hidden">BZOJ 3167 [Heoi2013] Sao</div><svg data-icon=material-symbols:chevron-right-rounded height=1em viewBox="0 0 24 24" width=1em class="text-[var(--primary)] text-[2rem]"><symbol id=ai:material-symbols:chevron-right-rounded><path d="M12.6 12L8.7 8.1q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:chevron-right-rounded></use></svg></div></a></div><div class="onload-animation col-span-2 footer hidden lg:block"><div class="transition border-dashed dark:border-white/15 border-black/10 border-t mx-32 my-10"></div><div class="transition flex items-center justify-center border-[oklch(85%_0.01_var(--hue))] border-dashed dark:border-white/15 flex-col mb-12 px-6 rounded-2xl"><div class="text-sm transition text-50 text-center"><a href=https://beian.miit.gov.cn/ class="text-[var(--primary)] link font-medium" target=_blank rel="nofollow noreferrer noopener">京ICP备19044785号-1</a><br>&copy; <span id=copyright-year>2024</span> NekoMio. All Rights Reserved. / <a href=/rss.xml class="transition font-medium link text-[var(--primary)]" target=_blank>RSS</a> / <a href=/sitemap-index.xml class="transition font-medium link text-[var(--primary)]" target=_blank>Sitemap</a><br>Powered by <a href=https://astro.build class="transition font-medium link text-[var(--primary)]" target=_blank>Astro</a> & <a href=https://github.com/saicaca/fuwari class="transition font-medium link text-[var(--primary)]" target=_blank>Fuwari</a></div></div></div></div></main><div class="onload-animation col-span-2 footer block lg:hidden"><div class="transition border-dashed dark:border-white/15 border-black/10 border-t mx-32 my-10"></div><div class="transition flex items-center justify-center border-[oklch(85%_0.01_var(--hue))] border-dashed dark:border-white/15 flex-col mb-12 px-6 rounded-2xl"><div class="text-sm transition text-50 text-center"><a href=https://beian.miit.gov.cn/ class="text-[var(--primary)] link font-medium" target=_blank rel="nofollow noreferrer noopener">京ICP备19044785号-1</a><br>&copy; <span id=copyright-year>2024</span> NekoMio. All Rights Reserved. / <a href=/rss.xml class="transition font-medium link text-[var(--primary)]" target=_blank>RSS</a> / <a href=/sitemap-index.xml class="transition font-medium link text-[var(--primary)]" target=_blank>Sitemap</a><br>Powered by <a href=https://astro.build class="transition font-medium link text-[var(--primary)]" target=_blank>Astro</a> & <a href=https://github.com/saicaca/fuwari class="transition font-medium link text-[var(--primary)]" target=_blank>Fuwari</a></div></div></div></div><div class="back-to-top-wrapper hidden lg:block" data-astro-cid-eymb5ayk><div class="transition flex items-center rounded-2xl back-to-top-btn hide overflow-hidden" id=back-to-top-btn data-astro-cid-eymb5ayk onclick=backToTop()><button class="w-[3.75rem] btn-card h-[3.75rem]" aria-label="Back to Top" data-astro-cid-eymb5ayk><svg data-icon=material-symbols:keyboard-arrow-up-rounded height=1em viewBox="0 0 24 24" width=1em class=mx-auto data-astro-cid-eymb5ayk><symbol id=ai:material-symbols:keyboard-arrow-up-rounded><path d="m12 10.8l-3.9 3.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275z" fill=currentColor /></symbol><use xlink:href=#ai:material-symbols:keyboard-arrow-up-rounded></use></svg></button></div></div><script>function backToTop(){window.scroll({top:0,behavior:"smooth"})}</script></div></div><div class="absolute w-full z-0"><div class="relative mx-auto max-w-[var(--page-width)]"><div class="transition flex items-center -right-[var(--toc-width)] absolute hidden lg:block top-0 w-[var(--toc-width)]" id=toc-wrapper><div class="fixed h-[calc(100vh_-_20rem)] hide-scrollbar overflow-x-hidden overflow-y-scroll top-14 w-[var(--toc-width)]" id=toc-inner-wrapper><div class="transition-swup-fade h-full w-full" id=toc><div class="h-8 w-full"></div><div><a href=#description class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center ml-4 h-5 shrink-0 text-xs w-5"><div class="bg-[var(--toc-badge-bg)] h-2 rounded-[0.1875rem] w-2"></div></div><div class="text-sm text-50">Description</div></a><a href=#input class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center ml-4 h-5 shrink-0 text-xs w-5"><div class="bg-[var(--toc-badge-bg)] h-2 rounded-[0.1875rem] w-2"></div></div><div class="text-sm text-50">Input</div></a><a href=#output class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center ml-4 h-5 shrink-0 text-xs w-5"><div class="bg-[var(--toc-badge-bg)] h-2 rounded-[0.1875rem] w-2"></div></div><div class="text-sm text-50">Output</div></a><a href=#input-1 class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center ml-4 h-5 shrink-0 text-xs w-5"><div class="bg-[var(--toc-badge-bg)] h-2 rounded-[0.1875rem] w-2"></div></div><div class="text-sm text-50">input</div></a><a href=#output-1 class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center ml-4 h-5 shrink-0 text-xs w-5"><div class="bg-[var(--toc-badge-bg)] h-2 rounded-[0.1875rem] w-2"></div></div><div class="text-sm text-50">output</div></a><a href=#题意 class="transition flex w-full active:bg-[var(--toc-btn-active)] gap-2 hover:bg-[var(--toc-btn-hover)] min-h-9 px-2 py-2 relative rounded-xl"><div class="rounded-lg items-center flex font-bold justify-center text-[var(--btn-content)] bg-[var(--toc-badge-bg)] h-5 shrink-0 text-xs w-5">1</div><div class="text-sm text-50">题意</div></a></div><div class="h-8 w-full"></div></div></div></div><!-- #toc needs to exist for Swup to work normally --></div></div></div><div class="h-[300vh] hidden" id=page-height-extend style=--bannerOffset:15vh;--banner-height-home:65vh;--banner-height:35vh;--configHue:250;--page-width:75rem data-astro-cid-sckkx6r4></div></body></html>