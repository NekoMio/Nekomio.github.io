import{p as y,o as X,i as Z,s as D,a as M}from"./translation.ztMa_V1m.js";import{p as $,f as S,a as P,b as tt,s as et,m as at,g as e,r as o,c as l,d as m,u as d,t as N,e as U,h as A,i as f}from"./render.W80TKLlZ.js";import{e as q,i as B}from"./each.DkmFzERI.js";import{I as k}from"./zh_TW.D2G1IM3a.js";import{g as F}from"./url-utils.Cw7EbymZ.js";var rt=S(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"> </div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),it=S(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),st=S('<div class="card-base px-8 py-6"></div>');function ut(K,g){$(g,!1);let h=y(g,"tags",12),x=y(g,"categories",12),L=y(g,"sortedPosts",24,()=>[]);const v=new URLSearchParams(window.location.search);h(v.has("tag")?v.getAll("tag"):[]),x(v.has("category")?v.getAll("category"):[]);const O=v.get("uncategorized");let z=at([]);function R(r){const a=(r.getMonth()+1).toString().padStart(2,"0"),n=r.getDate().toString().padStart(2,"0");return`${a}-${n}`}function T(r){return r.map(a=>`#${a}`).join(" ")}X(async()=>{let r=L();h().length>0&&(r=r.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(i=>h().includes(i)))),x().length>0&&(r=r.filter(t=>t.data.category&&x().includes(t.data.category))),O&&(r=r.filter(t=>!t.data.category));const a=r.reduce((t,i)=>{const u=i.data.published.getFullYear();return t[u]||(t[u]=[]),t[u].push(i),t},{}),n=Object.keys(a).map(t=>({year:Number.parseInt(t),posts:a[Number.parseInt(t)]}));n.sort((t,i)=>i.year-t.year),et(z,n)}),Z();var p=st();q(p,5,()=>e(z),B,(r,a)=>{var n=it(),t=l(n),i=l(t),u=l(i,!0);o(i);var I=m(i,4),Y=l(I);o(I),o(t);var E=m(t,2);q(E,1,()=>(e(a),d(()=>e(a).posts)),B,(w,s)=>{var c=rt(),j=l(c),_=l(j),G=l(_,!0);o(_);var b=m(_,4),H=l(b,!0);o(b);var C=m(b,2),J=l(C,!0);o(C),o(j),o(c),N((Q,V,W)=>{D(c,"href",Q),D(c,"aria-label",(e(s),d(()=>e(s).data.title))),f(G,V),f(H,(e(s),d(()=>e(s).data.title))),f(J,W)},[()=>(A(F),e(s),d(()=>F(e(s).slug))),()=>(e(s),d(()=>R(e(s).data.published))),()=>(e(s),d(()=>T(e(s).data.tags)))],U),P(w,c)}),o(n),N(w=>{f(u,(e(a),d(()=>e(a).year))),f(Y,`${e(a),d(()=>e(a).posts.length)??""} ${w??""}`)},[()=>(A(M),e(a),A(k),d(()=>M(e(a).posts.length===1?k.postCount:k.postsCount)))],U),P(r,n)}),o(p),P(K,p),tt()}export{ut as default};
